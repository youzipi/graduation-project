<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="../static/lib/echarts.min.js"></script>
</head>
<body>
<div id="main" style="height:600px;"></div>

<script type="text/javascript">
  // 基于准备好的dom，初始化echarts实例
  var myChart = echarts.init(document.getElementById('main'));

  var option = {
    title: {
      text: '折线图堆叠'
    },
    tooltip: {
      trigger: 'axis'
    },
    legend: {
      x: 'center',
      y: 'bottom',
//      data: ['system', 'algorithm', 'model', 'network', 'information'],
      data: [],
//      orient: 'vertical',
    },
    grid: {
      left: 0,
//      right: 0,
      bottom: 80,
      containLabel: true
    },
    toolbox: {
      feature: {
        saveAsImage: {}
      }
    },
    xAxis: {
      type: 'category',
      boundaryGap: false,
//      data: [2009, 2010, 2011, 2012, 2013, 2014, 2015]
      data: []
    },
    yAxis: {
      type: 'value'
    },

    series: [],
//    series: [
//      {
//        name: 'system',
//        type: 'line',
//        center: ['25%', 200],
//        data: [120, 132, 101, 134, 90, 230, 210]
//      },
//      {
//        name: 'algorithm',
//        type: 'line',
//        data: [220, 182, 191, 234, 290, 330, 310]
//      },
//      {
//        name: 'model',
//        type: 'line',
//        data: [150, 232, 201, 154, 190, 330, 410]
//      },
//      {
//        name: 'network',
//        type: 'line',
//        data: [320, 332, 301, 334, 390, 330, 320]
//      },
//      {
//        name: 'information',
//        type: 'line',
//        data: [820, 932, 901, 934, 1290, 1330, 1320]
//      }
//    ]
  };
  var data = [
  {'keywords': 'information', 'year_citations': {2005: 12, 2006: 13, 2007: 9, 2008: 11, 2009: 14, 2010: 8, 2011: 11, 2012: 10, 2013: 16, 2014: 27, 2015: 15}}, {'keywords': 'performance', 'year_citations': {2005: 13, 2006: 11, 2007: 8, 2008: 4, 2009: 6, 2010: 7, 2011: 7, 2012: 9, 2013: 13, 2014: 8, 2015: 10}}, {'keywords': 'network', 'year_citations': {2005: 19, 2006: 12, 2007: 10, 2008: 7, 2009: 10, 2010: 13, 2011: 9, 2012: 13, 2013: 22, 2014: 19, 2015: 17}}, {'keywords': 'genetic algorithm', 'year_citations': {2005: 5, 2006: 7, 2007: 2, 2008: 5, 2009: 8, 2010: 6, 2011: 10, 2012: 10, 2013: 13, 2014: 4, 2015: 7}}, {'keywords': 'design', 'year_citations': {2005: 15, 2006: 12, 2007: 10, 2008: 6, 2009: 10, 2010: 6, 2011: 11, 2012: 17, 2013: 20, 2014: 15, 2015: 19}}, {'keywords': 'set', 'year_citations': {2005: 5, 2006: 1, 2007: 1, 2008: 2, 2009: 4, 2010: 3, 2011: 4, 2012: 11, 2013: 6, 2014: 13, 2015: 6}}, {'keywords': 'selection', 'year_citations': {2005: 2, 2006: 2, 2007: 4, 2008: 6, 2009: 2, 2010: 2, 2011: 12, 2012: 5, 2013: 7, 2014: 15, 2015: 9}}, {'keywords': 'identification', 'year_citations': {2005: 12, 2006: 11, 2007: 11, 2008: 6, 2009: 10, 2010: 10, 2011: 11, 2012: 10, 2013: 7, 2014: 11, 2015: 5}}, {'keywords': 'prediction', 'year_citations': {2005: 15, 2006: 9, 2007: 10, 2008: 5, 2009: 5, 2010: 7, 2011: 7, 2012: 5, 2013: 6, 2014: 13, 2015: 10}}, {'keywords': 'model', 'year_citations': {2005: 21, 2006: 21, 2007: 20, 2008: 18, 2009: 11, 2010: 29, 2011: 22, 2012: 20, 2013: 14, 2014: 45, 2015: 38}}, {'keywords': 'channel', 'year_citations': {2005: 6, 2006: 11, 2007: 7, 2008: 5, 2009: 5, 2011: 4, 2012: 9, 2013: 8, 2014: 10, 2015: 7}}, {'keywords': 'neural-network', 'year_citations': {2005: 4, 2006: 2, 2007: 3, 2008: 4, 2009: 4, 2010: 5, 2011: 5, 2012: 8, 2013: 10, 2014: 10, 2015: 6}}, {'keywords': 'simulation', 'year_citations': {2005: 4, 2006: 7, 2007: 2, 2008: 3, 2009: 3, 2010: 6, 2011: 4, 2012: 5, 2013: 9, 2014: 2, 2015: 8}}, {'keywords': 'environment', 'year_citations': {2005: 1, 2006: 4, 2007: 1, 2008: 1, 2009: 6, 2010: 7, 2011: 6, 2012: 7, 2013: 5, 2014: 11, 2015: 9}}, {'keywords': 'global optimization', 'year_citations': {2006: 4, 2007: 1, 2008: 3, 2009: 4, 2010: 1, 2011: 8, 2012: 5, 2013: 10, 2014: 4, 2015: 7}}, {'keywords': 'web', 'year_citations': {2005: 2, 2008: 1, 2009: 1, 2010: 2, 2012: 3, 2013: 5, 2014: 9, 2015: 4}}, {'keywords': 'wireless network', 'year_citations': {2005: 3, 2006: 5, 2007: 7, 2008: 6, 2009: 8, 2010: 4, 2011: 6, 2012: 11, 2013: 7, 2014: 8, 2015: 8}}, {'keywords': 'particle swarm optimization', 'year_citations': {2006: 1, 2007: 1, 2009: 2, 2010: 1, 2011: 6, 2012: 5, 2013: 12, 2014: 7, 2015: 5}}, {'keywords': 'preference relation', 'year_citations': {2008: 1, 2009: 4, 2010: 8, 2011: 2, 2012: 4, 2013: 2, 2014: 10, 2015: 8}}, {'keywords': 'differential evolution', 'year_citations': {2008: 2, 2010: 1, 2011: 2, 2012: 5, 2013: 13, 2014: 1, 2015: 6}}, {'keywords': 'transmission', 'year_citations': {2005: 4, 2006: 5, 2007: 3, 2008: 1, 2009: 5, 2010: 2, 2011: 1, 2012: 6, 2013: 9, 2014: 5, 2015: 6}}, {'keywords': 'system', 'year_citations': {2005: 22, 2006: 21, 2007: 13, 2008: 18, 2009: 18, 2010: 16, 2011: 14, 2012: 35, 2013: 48, 2014: 48, 2015: 34}}, {'keywords': 'capacity', 'year_citations': {2005: 10, 2006: 5, 2007: 8, 2008: 8, 2009: 7, 2010: 2, 2011: 6, 2012: 7, 2013: 14, 2014: 6, 2015: 6}}, {'keywords': 'framework', 'year_citations': {2005: 2, 2006: 7, 2007: 2, 2008: 9, 2009: 4, 2010: 5, 2011: 4, 2012: 10, 2013: 10, 2014: 10, 2015: 15}}, {'keywords': 'classification', 'year_citations': {2005: 10, 2006: 9, 2007: 4, 2008: 10, 2009: 3, 2010: 4, 2011: 11, 2012: 6, 2013: 8, 2014: 14, 2015: 15}}, {'keywords': 'approximation', 'year_citations': {2005: 2, 2006: 5, 2007: 5, 2008: 3, 2010: 6, 2011: 6, 2012: 4, 2013: 2, 2014: 13, 2015: 9}}, {'keywords': 'management', 'year_citations': {2005: 7, 2006: 2, 2007: 5, 2008: 1, 2009: 3, 2010: 2, 2011: 4, 2012: 10, 2013: 10, 2014: 7, 2015: 11}}, {'keywords': 'optimization', 'year_citations': {2005: 5, 2006: 4, 2007: 2, 2008: 4, 2009: 3, 2010: 5, 2011: 6, 2012: 9, 2013: 12, 2014: 18, 2015: 21}}, {'keywords': 'algorithm', 'year_citations': {2005: 22, 2006: 30, 2007: 23, 2008: 11, 2009: 17, 2010: 27, 2011: 20, 2012: 24, 2013: 29, 2014: 35, 2015: 25}}, {'keywords': 'support vector machine', 'year_citations': {2005: 5, 2006: 6, 2007: 2, 2008: 2, 2009: 1, 2010: 3, 2011: 6, 2012: 5, 2013: 6, 2014: 12, 2015: 2}}];


  data = data.slice(0,10);
  seriesData = [];

  var years = [];
  for (var i = 2005; i < 2016; i++) {
    years.push(i);
  }

  option.xAxis["data"] = years;//x轴数据
  seriesData = [];
  legends = [];
  data.map(function (item) {
    var dis_item =
    {
      name: '',
      type: "line",
//      stack:'sum',
      data: [],
    };
    dis_item['name'] = item['keywords'];
    legends.push(item['keywords']);
    for (var i = 2005; i < 2016; i++) {
      dis_item['data'].push(item['year_citations'][i]);
    }
    seriesData.push(dis_item);
  });
  option.legend.data = legends;
  console.log(legends);
  console.log(years);
  option.series = seriesData;

  myChart.setOption(option);　　//设置全部参数属性
//  myChart.setSeries(seriesData);//设置图例数据

</script>
</body>
</html>